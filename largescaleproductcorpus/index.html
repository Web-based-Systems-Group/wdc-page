<!DOCTYPE html>
<html><head><meta name="robots" content="nofollow"/><title>Gold Standard for Large Scale Product Matching</title>
<link rel='stylesheet' href='http://webdatacommons.org/style.css' type='text/css' media='screen'/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style>
.tar {
text-align: right;
}
.rtable
{
    float: right;
    padding-left:10px;

}
.smalltable, .smalltable TD, .smalltable TH
{
font-size:9pt;
}
.table-wrapper {
  position:relative;
}
.table-scroll {
  height:240px;
  overflow:auto;
  margin-top:-10px;
}

.show{
  display:block;
}

.no-show{
  display:none;
}

hr {
    width: 50%;
    margin: 20px 0; /* This leaves 10px margin on left and right. If only right margin is needed try margin-right: 10px; */
}
</style>

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript">

	google.load('visualization', '1', {packages: [ 'bar', 'line', 'corechart']});
	google.setOnLoadCallback(drawIDsPerClassChart);
	google.setOnLoadCallback(drawOffersPerClassChart);
	google.setOnLoadCallback(drawOffersPerUrlChart);
	google.setOnLoadCallback(drawOffersPerTLDChart);



	function drawIDsPerClassChart() {
	
      var data = google.visualization.arrayToDataTable([
	    ["Identifiers Count", "Class Frequency" ],
		["[12-36]", 66],
		["11", 55],
		["10", 158],
		["9", 135],
		["8", 318],
		["7", 506],
		["6", 1180],
		["5", 2537],
		["4", 6541],
        ["3", 14313],
        ["2", 20564],
        ["1", 126390 ],


      ]);
	  
      var view = new google.visualization.DataView(data);
	  view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" }]);
      
      var options = {
        title: "Distribution of identifiers per product class",
        width: 400,
        height: 400,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
		hAxis: {
          title: 'Class Frequency',
          minValue: 0
        },
        vAxis: {
          title: '# Identifiers'
        }
      };
      var chart = new google.visualization.BarChart(document.getElementById("IDsPerClass"));
      chart.draw(view, options);
  }
  
  function drawOffersPerClassChart() {
	
      var data = google.visualization.arrayToDataTable([
	    ["Offers Count", "Class Frequency" ],
		["[111-120]", 246],
		["[101-110]", 309],
		["[91-100]", 332],
		["[81-90]", 410],
		["[71-80]", 674],
		["[61-70]", 1170],
		["[51-60]", 1955],
		["[41-50]", 5092],
		["[31-40]", 8228],
		["[21-30]", 9531],
		["[11-20]", 26373],
		["[5-10]", 116283]

      ]);
	  
	  var view = new google.visualization.DataView(data);
	  view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" }]);
      
      var options = {
        title: "Distribution of offers per product class",
        width: 400,
        height: 400,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
		hAxis: {
          title: 'Class Frequency',
          minValue: 0
        },
        vAxis: {
          title: '# Offers'
        }
      };
      
      var chart = new google.visualization.BarChart(document.getElementById("offersPerClass"));
      chart.draw(view, options);
  }

  function drawOffersPerUrlChart() {
	
      var data = google.visualization.arrayToDataTable([
	    ["Offers Count", "Url Frequency" ],
		["[46-288]", 988],
		["[36-45]", 11291],
		["[26-35]", 5863],
		["[16-25]", 17523],
		["[6-15]", 31969],
		["5", 8740],
		["4", 14285],
		["3", 50639],
		["2", 297292],
		["1", 914157]

      ]);
	  
	  var view = new google.visualization.DataView(data);
	  view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" }]);
      
      var options = {
        title: "Distribution of offers per URL",
        width: 500,
        height: 500,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
		hAxis: {
          title: 'URL Frequency',
          minValue: 0
        },
        vAxis: {
          title: '# Offers'
        }
      };
      
      var chart = new google.visualization.BarChart(document.getElementById("urlsPerClass"));
      chart.draw(view, options);
  }
  
  function drawOffersPerTLDChart() {
	
      var data = google.visualization.arrayToDataTable([
	    ["TLD", "Offers Count" ],
		["com", 1507760],
		["de", 265437],
		["net", 116521],
		["fr", 87850],
		["co.uk", 70420],
		["ch", 68425],
		["cz", 57046],
		["es", 56430],
		["pl", 50275],
		["it", 50037],
		["nl", 48879],
		["ca", 46582],
		["at", 42964],
		["ru", 31139],
		["be", 30097],
		["pt", 27649],
		["us", 27149],
		["co.za", 23033],
		["hu", 22890],
		["ro", 22067],
		["se", 21156],
		["gr", 21023],
		["bg", 20415],
		["si", 20328],
		["others", 393576]


      ]);
	  
	  
      var options = {
        title: "Distribution of offers per TLD",
        width: 400,
        height: 400,
        legend: { position: "none" },
		is3D: true
		
      };
      
      var chart = new google.visualization.PieChart(document.getElementById("offersPerTLD"));
      chart.draw(data, options);
  }
  </script>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="../jquery.toc.min.js"></script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30248817-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
   
</script>


<script type="application/ld+json">
{
  "@context":"http://schema.org/",
  "@type":"Dataset",
  "name":"Web Data Commons - Gold Standard for Large Scale Product Matching",
  "description":"Generating a gold standard for large scale product matching. We make use of the annotated product identifiers found on the web to create the large scale product matching gold standard.",
  "url":"http://webdatacommons.org/largescaleproductcorpus/index.html",
  "keywords":[
  	 "gold standard",
     "product corpus",
     "large scale",
     "product matching",
     "entity matching"
  ],
  "creator":[
	  {
		 "@type":"Person",
		 "url": "http://dws.informatik.uni-mannheim.de/en/people/professors/prof-dr-christian-bizer/",
		 "name":"Christian Bizer"
	  },
	  {
		 "@type":"Person",
		 "url": "http://dws.informatik.uni-mannheim.de/en/people/researchers/anna-primpeli/",
		 "name":"Anna Primpeli"
	  }

  ],
  "distribution":[
     {
        "@type":"DataDownload",
        "fileFormat":[
			"tsv"
		],
        "contentUrl":"http://data.dws.informatik.uni-mannheim.de/largescaleproductgs/"
     }
  ],
  "citation":[
	  
  ]
  }
</script>

</head>
<body>
  <div id="logo" style="text-align:right; background-color: white;">&nbsp;&nbsp;<a href="http://dws.informatik.uni-mannheim.de"><img src="files/images/ma-logo.gif" alt="University of Mannheim - Logo"></a></div>
  <div id="header">
    <h1 style="font-size: 250%;">Web Data Commons - Gold Standard for Large Scale Product Matching</h1>
  </div>
  <div id="tagline">Generating a Gold Standard for Large Scale Product Matching</div>
  <div id="authors">
    <a href="https://dws.informatik.uni-mannheim.de/en/people/researchers/anna-primpeli/">Anna Primpeli</a><br />
    <a href="http://dws.informatik.uni-mannheim.de/en/people/professors/prof-dr-christian-bizer/">Christian Bizer</a><br />
  </div>
  <div id="content">
	   <p>
       In order to support large scale product matching we created a gold standard with 3.1 million product offers describing 172,763 unique product entities.
       For the gold standard creation we make use of the supervision found on the web in the form of product offers annotated with identifier information.
       In the following sections, the necessary cleansing steps for creating the large scale product matching gold standard are explained as well as possible use cases and experimental baseline results.  
	  </p>
	  <h2 id="news">News</h2>
	  <ul>
	  </ul>
	  <h2>Contents</h2>
	  <ul>
		    <li class="toc-h2 toc-active">
		        <a href="#toc1"> 1.About the WDC Gold Standard for Large Scale Product Matching </a>
		    </li>
		    <li class="toc-h2 toc-active">
		        <a href="#toc2"> 2.Initial Corpus </a>
		    </li>
			<li class="toc-h2 toc-active">
		        <a href="#toc3"> 3.Gold Standard Creation </a>
		    </li>
		    <li class="toc-h2 toc-active">
		        <a href="#toc4"> 4.Gold Standard Profiling</a>
		    </li>	
		    <li class="toc-h2 toc-active">
		        <a href="#toc5"> 5.Gold Standard HTML Pages</a>
		    </li>	   
		    <li class="toc-h2 toc-active">
		        <a href="#toc6"> 6.Baselines </a>
		    </li>
		    <li class="toc-h2 toc-active">
		        <a href="#toc7"> 7.References </a>
		    </li>
	  </ul>

    <span id="toc1"></span>
    <h2>1. About the WDC Gold Standard for Large Scale Product Matching </h2>
    <p>
    Matching product offers published on the web to unique product entities is a hard integration task mostly because of the sparse and noisy nature of web data. 
    Although there exist product data sets which can be used to evaluate product matching methods
    (e.g. the <a href="http://webdatacommons.org/productcorpus/index.html">WDC Product Corpus </a> and the <a href="https://dbs.uni-leipzig.de/en/research/projects/object_matching/fever/benchmark_datasets_for_entity_resolution">Abt-Buy</a> data set),
    they contain product offers that either refer to a small group of unique products or derive from a small number of sources.
    The availability of large scale product information has been so far restricted to large marketplaces such as ebay and amazon.
    However, the application of supervised representation learning methods like supervised neural networks require a large annotated corpus.
    Therefore the need for a gold standard for large scale product matching becomes apparent.
    </p>
    <p>
    Popular annotation vocabularies, like schema.org, propose a set of properties to annotate product identifiers.
    In addition, google proposes the annotation of product identifiers with properties such as schema.org/Product/sku, gtin8, gtin13, gtin14, and mpn for more enhanced search results.
    The application of these annotation practices can be considered as inexpensive supervision offered in the web.
    We profile the adoption of identifier-related schema.org product properties using the Web Data Commons November 2017 schema.org/Product subcorpus, perform a series of cleansing and clustering steps, 
    and create the WDC Gold Standard for Large Scale Product Matching containing 3.1 million offers describing 172,763 unique products.
    </p>
    

    <span id="toc2"></span>
    <h2>2.Initial Corpus</h2>
	<p>
	We use the <a href="http://webdatacommons.org/structureddata/2017-12/stats/schema_org_subsets.html#support"> November 2017 WDC schema.org/Product </a>subcorpus and extract the product offer entities 
	that have annotated identifier information. We consider the following schema.org/Product and schema.org/Offer properties as annotated identifier information:
	 <a href="https://schema.org/sku">sku</a>, <a href="https://schema.org/mpn">mpn</a>, <a href="https://schema.org/identifier">identifier</a>, <a href="https://schema.org/productID">productID</a>,
	 <a href ="https://schema.org/gtin14">gtin14</a>, <a href ="https://schema.org/gtin13">gtin13</a>, <a href ="https://schema.org/gtin12">gtin12</a>, and <a href="https://schema.org/gtin8">gtin8</a>.
	<h4>November 2017 schema.org/Product corpus statistics</h4>
	<br />
	<table><tbody>
	<tr><th>Data Size</th><td  align="right">135 GB</td><td>(compressed)</td></tr>
	<tr><th>Quads</th><td align="right"> 6,321,909,578</td><td></td></tr>
	<tr><th>Entities</th><td align="right"> 444,760,713 </td><td></td></tr>
	<tr><th>Domains</th><td align="right"> 581,482 </td><td></td></tr>
	<tr><th>Related Classes</th><td align="left"><ul> <li>schema:Product</li> <li>schema:Offer</li> <li>schema:Review</li> <li>schema:AggregateRating</li> <li>schema:Organization</li></td><td></td></tr>
	</tbody></table>
    </p>
    
    
    <span id="toc3"></span>
    <h2>3.Gold Standard Creation</h2>
    <p>
    Considering the noisy nature of web data, we perform a series of cleansing steps to ensure the quality of our gold standard. During the cleansing process we identify several false practices 
    while annotating product offers and develop different cleansing steps to overcome them. Below we provide details about the different false annotation practices as well as the corresponding cleansing steps 
    and the effect they had on the resulting corpus in terms of size.
    </p>
    <h3>Misuse of schema.org vocabulary</h3>
    <p>
    A large number of annotated product offers are assigned wrong schema.org vocabulary terms such as <i> schema:IndividualProduct/sku</i> and <i>schema:Product/Offer/sku</i>.
    Despite the wrong vocabulary usage, these annotated product offers still reveal identifying information. We capture this by applying a number of 
    regex patterns on the predicates of the product offer entities.
    
    <h4> Resulting data after regex pattern application </h4>
    <br>
    <table>
    
    <tr><td>Entity count per property</td><td><small>
    <a href='' onclick="document.getElementById('57b55b12-32de-4903-aa4b-a1a93c11508a').style.display='block';this.style.display='none';return false;">Show property info</a></small>
    <ol id='57b55b12-32de-4903-aa4b-a1a93c11508a' style='display:none'>
    <li>*/sku : 57,685,250</li>
    <li>*/productID : 50,668,120</li>
    <li>*/mpn : 13,927,665</li>
    <li>*/identifier : 363,490</li>
    <li>*/gtin14 : 692,684</li>
    <li>*/gtin13 : 5,056,492</li>
    <li>*/gtin12 : 494,803</li>
    <li>*/gtin8 : 541,710</li>
    </ol> </td>
    <tr><td>Distinct identifiers</td><td>38,804,820</td></tr>
    <tr><td>Offer Entities with ID info </br> (at least one)</td><td>115,718,974</td></tr>
    </table>
  
    </p>
    
    
    <h3>Assignment of erroneous identifier values</h3>
    <p>
    The next filtering step is to remove the product offers with invalid identifier values. As we do not possess an extensive list of all valid product identifiers, we consider the 
    definitions of the relevant identifier properties and apply value normalization. First, all non-alphanumeric characters and initial 0s of the identifier values are removed. 
    Considering the suggested length and structure of the identifying properties, we remove the values that after normalization are shorter than 8 characters or longer than 25 characters.
    Finally, we remove the values that consist only out of alphabetic characters. Another wrong annotation behavior adopted by a considerable amount of web sites is to annotate all the published
    product offers with the same identifier.
	We detect those cases and remove them from our corpus.
    
    <h4> Resulting data after erroneous identifier value filtering </h4>
    <br>
    <table> 
 	<tr><td>Entity count per property</td><td><small>
    <a href='' onclick="document.getElementById('57b55b12-32de-4903-aa4b-a1a93c11508ab').style.display='block';this.style.display='none';return false;">Show property info</a></small>
    <ol id='57b55b12-32de-4903-aa4b-a1a93c11508ab' style='display:none'>    
    <li>*/sku : 19,615,547</li>
    <li>*/productID : 33,578,647</li>
    <li>*/mpn : 6,933,114</li>
    <li>*/identifier : 265,060</li>
    <li>*/gtin14 : 638,075</li>
    <li>*/gtin13 : 4,253,100</li>
    <li>*/gtin12 : 346,910</li>
    <li>*/gtin8 : 528,886</li>
    </ol> </td>
     <tr><td>Distinct identifiers</td><td>29,314,091</td></tr>
     <tr><td>Offer Entities with ID info </br> (at least one)</td><td>61,129,664</td></tr>
    </table>
    </p>
    
    
    <h3>Usage of multiple valid identifiers to indicate the same product</h3>
    <p>
    Across web sites different valid identifiers might be used to indicate the same product, e.g. one web site might use a gtin13 annotation while another one might use the sku number to identify a product offer.
    For capturing the different identifying values of a product, we depict our data as a network graph with the distinct identifiers as vertices connected by "sameAs" edges in the case they appear in the same offer entity. The connected components of the graph reveal the unique products of our gold standard. 
     
    <h4> Resulting data after clustering </h4>
    <br>
    <table>    
     <tr><td>Distinct identifiers (nodes)</td><td>29,314,091</td></tr>
     <tr><td>Offer Entities with ID info </br> (at least one)</td><td>61,129,664</td></tr>  
     <tr><td><b>Distinct products</b> </br> (connected components)</td><td>26,629,609</td></tr>
    </table>
    </p>
    
    <h3>Usage of product taxonomy identifiers as unique product identifiers</h3>
    <p>
    Another common error is to annotate product taxonomy identifiers, such UNSPSC, as unique product identifiers. To consistently detect and remove those errors we make use of the network graph structure of our data.
    The taxonomy identifiers can be recognized as the nodes with a high degree and a very small clustering coefficient. The high degree reveals that the taxonomy identifier co-occurs with many other identifiers while the small clustering coefficient 
    shows that the co-occuring identifiers do not appear in the same offers and thus describe different products.
    
    
    <h4> Resulting data after taxonomy identifiers filtering </h4>
    <br>
    <table>    
     <tr><td>Distinct identifiers (nodes) </td><td>29,312,255</td></tr>
     <tr><td>Offer Entities with ID info </br> (at least one)</td><td>61,129,664</td></tr>
     <tr><td><b>Distinct products</b> </br> (connected components)</td><td>26,824,525</td></tr>
    </table>
    </p>
    
    <h3>Identifiers with weak support</h3>
    <p>
    In the last cleansing step we remove the components with weak pld support. We set the pld support threshold to 5 offers and therefore remove every component that contains offers deriving from less than 5 plds.
    <br>
    <table>    
     <tr><td>Distinct identifiers (nodes) </td><td>266,751</td></tr>
     <tr><td>Offer Entities with ID info </br> (at least one)</td><td>3,129,188</td></tr>
     <tr><td><b>Distinct products (connected components)</b> </br> (after clustering)</td><td>172,763</td></tr>
    </table>
    
    </p>
    <span id="toc4"></span>
    <h2>4.Gold Standard Profiling</h2>
    <p>
    After performing a series of cleansing steps described in the previous section we end up with 266,751 distinct identifiers clustered into 172,763 product classes with 3.1 million offers in total.
    In this section we present different statistics concerning the structure of the created product classes w.r.t. identifiers count, offers count and provenance.
    </p>
	
	<div>
	<span id="IDsPerClass" style="float:left"></span>
	<span id="offersPerClass" style="float:left"></span>
	</div>
	<div>
	<span id="urlsPerClass" style="float:left"></span>
	<span id="offersPerTLD" style="float:left"></span>

	</div>

    <span id="toc5"></span>
    <h2>5.Baselines</h2>
    <p>
      
    </p>
    
    
   <span id="toc6"></span>
   <h2>6. References</h2>
   <ol>
   </ol>
    <script type="text/javascript">
    $('#toc').toc({
        'selectors': 'h2', //elements to use as headings
        'container': '#toccontent', //element to find all selectors in
        'smoothScrolling': true, //enable or disable smooth scrolling on click
        'prefix': 'toc', //prefix for anchor tags and class names
        'highlightOnScroll': true, //add class to heading that is currently in focus
        'highlightOffset': 100, //offset to trigger the next headline
        'anchorName': function(i, heading, prefix) { //custom function for anchor name
            return prefix+i;
        }
    });
    $('[id*="link_"]').each(function(){
    	var element = $(this);
    	element.click(function(e) {
			e.preventDefault();
    		var id = element.attr("id").split("_")[1];
    		element.parent().removeClass("show").addClass("no-show");
    		$('#charts_'+id).removeClass("no-show").addClass("show");
    	});
    });
    $('[id*="colapse_"]').each(function(){
    	var element = $(this);
    	element.click(function(e) {
			e.preventDefault();
    		var id = element.attr("id").split("_")[1];
    		element.parent().removeClass("show").addClass("no-show");
    		$('#intro_'+id).removeClass("no-show").addClass("show");
    	});
    });
    </script>
</body>
</html>